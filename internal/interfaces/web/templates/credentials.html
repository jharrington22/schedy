<!doctype html>
<html><head><meta charset="utf-8"><title>Credentials</title></head>
<body>
<p><a href="/">Home</a> | <a href="/logout">Logout</a></p>
<h2>Provider credentials</h2>
{{if .Saved}}<p style="color:green">Saved.</p>{{end}}
{{if .Error}}<p style="color:#b00020">{{.Error}}</p>{{end}}
<p>Save these once. We store them encrypted in the database and only ask again if missing.</p>

<hr>
<h3>Resy</h3>
<p><small>
Log into resy.com → DevTools → Network → click a request to <code>api.resy.com</code> → copy the <code>Authorization</code> token
and the API key header (often <code>x-api-key</code>).
</small></p>
<form method="POST" action="/credentials">
  <label>Resy API Key<br><input name="resy_api_key" placeholder="{{if .HasResy}}(saved){{end}}"></label><br><br>
  <label>Resy Auth Token<br><input name="resy_auth_token" placeholder="{{if .HasResy}}(saved){{end}}"></label><br><br>

<hr>
<h3>OpenTable</h3>
<p><small>
Log into opentable.com → DevTools → Network → click a request to <code>/dapi</code> → copy the <code>x-csrf-token</code> header.
</small></p>
  <label>OpenTable x-csrf-token<br><input name="opentable_token" placeholder="{{if .HasOpenTable}}(saved){{end}}"></label><br><br>
  <label>Optional persisted query hash override<br><input name="opentable_pq_hash" value="{{.OpenTablePQHash}}"></label><br><br>
  <button type="submit">Save credentials</button>
</form>
</body></html>
